{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
    {% include "heading.html" %}
    <div class="flex_column">
        <div class="flex_column" id="deliveryList">

        </div>    

        <a href="../deliveryForm">Create a delivery</a>
    </div>
    
    <script>
        function clearMessage() {
            document.getElementById('message').innerText = ''; // Clear the message
        }

        function fill() {
            const delivery_json = JSON.parse('{{ delivery_json|escapejs }}')            
            console.log("Last name is: " + delivery_json[0].lastName)

            deliveryList = document.getElementById("deliveryList")

            for(const element of delivery_json) {
                deliverDateDiv = document.createElement("div")
                deliverDateDiv.innerText = element.deliverDate

                child = document.createElement("div")
                child.className = "delivery_box"
                child.id = element.id
                child.appendChild(deliverDateDiv)
                child.innerText = element.lastName + ", " + element.firstName

                deliveryList.appendChild(child)
            }
        }

        fill()
    </script>     
</body>
</html>







